#!/bin/sh

# Get the current branch
branch="$(git rev-parse --abbrev-ref HEAD)"

case $branch in
  # If the branch starts with "changeset-release/*", run `check:fix` to auto
  # format code generated by changesets.
  #
  # Note: For better developer experience, format-on-save is handled by each
  # individual's IDE. We run `check` on pre-push to ensure the code is
  # formatted.
  "changeset-release/"*)
    pnpm check:fix
    git add .
    ;;
esac